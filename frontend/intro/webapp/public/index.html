<!doctype html>
<html lang="en">
   <head>
      <!-- Required meta tags -->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <!-- font family using Lato"-->
      <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Rowdies:wght@300;400;700&display=swap" rel="stylesheet">
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
      <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico">
      <!-- Bootstrap CSS -->
      <link rel="stylesheet" href="%PUBLIC_URL%/css/bootstrap.min.css">
      <!--css -->
      <link rel="stylesheet" href="%PUBLIC_URL%/css/style.css">
      <title>ULCA</title>
   </head>
   <body>
      <header>
         <div class="container">
            <div class="row align-items-center">
               <div class="col-3 col-md-5">
                  <img src="%PUBLIC_URL%/img/gov-logo-1.png" alt="NLTM logo">
               </div>
               <div class="col-9 col-md-7" style="display: flex; justify-content: flex-end;">
                  <img src="%PUBLIC_URL%/img/Bhashini_en.svg" alt="bhashini logo">
               </div>
            </div>
         </div>
      </header>
      <!-- navigation menu  -->
      <nav class="navbar navbar-expand navbar-light bg-light">
         <div class="container">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample07" aria-controls="navbarsExample07" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarsExample07">
               <ul class="navbar-nav mr-auto">
                  <li class="nav-item">
                     <a class="nav-link" href="https://bhashini.gov.in/">Home <span class="sr-only">(current)</span></a>
                  </li>
                  <li class="dropdown">
                     <a class="dropdown-toggle nav-link" href="#" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                     About Bhashini
                     </a>
                     <div class="dropdown-menu" data-bs-popper="static" aria-labelledby="dropdownMenuLink">
                        <a data-rr-ui-dropdown-item="" class="dropdown-item nav-item" href="https://bhashini.gov.in/about-bhashini" target="_self" rel="noopener noreferrer">About Bhashini</a>
                        <a data-rr-ui-dropdown-item="" class="dropdown-item nav-item" href="https://bhashini.gov.in/teams" target="_self" rel="noopener noreferrer">Team</a>
                     </div>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link" href="https://bhashini.gov.in/ecosystem">Ecosystem</a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link" href="https://anuvaad.bhashini.gov.in/">Anuvaad</a>
                  </li>
                  <li class="dropdown">
                     <a class="dropdown-toggle nav-link" href="#" id="SahyogidropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                     Sahyogi
                     </a>
                     <div aria-labelledby="SahyogidropdownMenuLink" data-bs-popper="static" class="dropdown-menu">
                        <a data-rr-ui-dropdown-item="" class="dropdown-item nav-item" href="https://bhashini.gov.in/sahyogi" target="_self" rel="noopener noreferrer">Empanelled Agencies</a>
                        <a data-rr-ui-dropdown-item="" class="dropdown-item nav-item" href="https://bhashini.gov.in/career" target="_self" rel="noopener noreferrer">Career</a>
                     </div>
                  </li>
                  <li class="nav-item active">
                     <a class="nav-link" href="#">ULCA</a>
                  </li>
               </ul>
            </div>
            <div class="join">
               <a class="bh-btn-primary" href="https://bhashini.gov.in/bhashadaan" target="_self" rel="noopener noreferrer"> Join Bhasha<span class="yellowColor">&nbsp;Daan</span> </a>
            </div>
         </div>
      </nav>
      <!-- end here -->
      <section class="section about">
         <div id="carouselExampleSlidesOnly" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
               <div class="carousel-item active">
                  <img src="%PUBLIC_URL%/img/slide1.jpg" class="d-block w-100" alt="...">
               </div>
               <div class="carousel-item">
                  <img src="%PUBLIC_URL%/img/slide2.jpg" class="d-block w-100" alt="...">
               </div>
            </div>
         </div>
         <div class="container text-left elements">
            <div class="row">
               <div class="col">
                  <p class="h5">Dataset</p>
                  <div>
                     <div style="display: flex; flex-direction: row; justify-content: space-between; height: 2rem;">
                        <select id="datasetSelect" style="background-color: inherit; border: 0px;font-size: 16px;line-height: 24px;" onchange="handleSelectChange()">
                           <!-- <option value="">Select Dataset</option> -->
                           <option value="parallel-corpus" >Parallel Dataset</option>
                           <option value="monolingual-corpus">Monolingual Dataset</option>
                           <option value="asr-corpus">ASR Dataset</option>
                           <option value="tts-corpus">TTS Dataset</option>
                           <option value="ocr-corpus">OCR Dataset</option>
                           <option value="asr-unlabeled-corpus">ASR Unlabeled Dataset</option>
                           <option value="transliteration-corpus">Transliteration Dataset</option>
                           <option value="glossary-corpus">Glossary Dataset</option>
                        </select>
                        <span style="border: 1px solid black;
                           border-radius: 25rem;
                           padding: 0.1rem 0.5rem;
                           align-items: center;
                           display: flex;
                           cursor: pointer;">i</span>
                     </div>
                     <h6 style="margin-left: 0.5rem; margin-top: 0.2rem;" id="totalValue">0</h6>
                     <div style="text-align: end; margin-top: 20%; margin-right: 0.4rem;">
                       <a href="https://bhashini.gov.in/ulca/dashboard" target="_blank"> <button
                           style="border-radius: 4px;
                           background: var(--Primary-M_Blue, #0671E0); color: #FFF; border: none;"
                           >Go to Dashboard</button> </a>
                     </div>
                  </div>
               </div>
               <div class="col">
                  <p class="h5">Model</p>
                  <div>
                     <div style="display: flex; flex-direction: row; justify-content: space-between; height: 2rem;">
                        <p>Model Total Count</p>
                        <span style="border: 1px solid black;
                           border-radius: 25rem;
                           padding: 0.1rem 0.5rem;
                           align-items: center;
                           display: flex;
                           cursor: pointer;">i</span>
                     </div>
                     <h6 style="margin-left: 0.5rem; margin-top: 0.2rem;" id="totalValue2">0</h6>
                     <div style="display: flex; flex-direction: row; justify-content: flex-end; margin-top: 20%; margin-right: 0.4rem;">
                        <a style="color: #0671E0;" href="https://bhashini.gov.in/ulca/model/explore-models">Explore Model</a>    
                        <a href="https://bhashini.gov.in/ulca/dashboard" target="_blank"><button
                           style="border-radius: 4px; margin-left: 0.5rem;
                           background: var(--Primary-M_Blue, #0671E0); color: #FFF; border: none;"
                           >Go to Dashboard</button></a>
                     </div>
                  </div>
               </div>
               <div class="col">
                  <p class="h5">Benchmarks</p>
                  <div>
                     <div style="display: flex; flex-direction: row; justify-content: space-between; height: 2rem;">
                        <p>Benchmark Total Count </p>
                        <span style="border: 1px solid black;
                           border-radius: 25rem;
                           padding: 0.1rem 0.5rem;
                           align-items: center;
                           display: flex;
                           cursor: pointer;">i</span>
                     </div>
                     <h6 style="margin-left: 0.5rem; margin-top: 0.2rem;" id="totalValue3">0</h6>
                     <div style="display: flex; flex-direction: row; justify-content: flex-end; margin-top: 20%; margin-right: 0.4rem;">
                        <a style="color: #0671E0;" href="https://bhashini.gov.in/ulca/model/explore-models">Explore Benchmark</a>    
                        <a href="https://bhashini.gov.in/ulca/dashboard" target="_blank"> <button
                           style="border-radius: 4px; margin-left: 0.5rem;
                           background: var(--Primary-M_Blue, #0671E0); color: #FFF; border: none;"
                           >Go to Dashboard</button></a>
                     </div>
                  </div>
               </div>
            </div>
          </div>
        <div class="container mt-5">
            <p class="h3 text-center"  mb-3>A Quick Overview of the ULCA</p>
            <div class="display-6 text-center">
               Get ready for a swift introduction to ULCA! Our video provides a quick overview, highlighting the key
               features<br />and benefits of ULCA's platform.
            </div>
            <div class="video-overview">
            </div>
         </div>
         <!-- <div class="why-ulca">
            <p class="h3 text-center">Why ULCA</p>
            <p class="display-6 text-center">Your premier hub for Indian language resources, providing curated datasets and enhanced language-specific tasks for
                cutting-edge linguistic innovation and research.</p>
            </div> -->
      </section>
      <section className="section dashboard">
         <!-- <div class="container">
            <div class="row">-->
         <div class="dashboard-map">
            <div id="root"></div>
         </div>
         </div>
         </div>
         </div>
      </section>
      <script>
         var criterions = [{"field": "sourceLanguage","value": "en"}]
         
        //  window.onload = async function() {
        //        // Call the API with the first value on page load
        //        const defaultType = document.getElementById('datasetSelect').value;
        //       const response1 =  await fetchChartData(defaultType,"", criterions);
        //       const response1Json = await response1.json()
        //       document.getElementById('totalValue').innerText = response1Json;
        //        const response2 = await fetchChartData("model","", "");
        //        const response2Json = await response2.json()
        //       document.getElementById('totalValue2').innerText = response2Json;
        //       const response3 = await fetchChartData("benchmark","", "");
        //        const response3Json = await response3.json()
        //       document.getElementById('totalValue3').innerText = response3Json;
        //      };
         
        window.onload = async function() {
  try {
    // Call the API with the first value on page load
    const defaultType = document.getElementById('datasetSelect').value;

    const response1 = await fetchChartData(defaultType, "", criterions);
    const response1Json = await response1.json();
    document.getElementById('totalValue').innerText = response1Json.count;

    const response2 = await fetchChartData("model", "", "");
    const response2Json = await response2.json();
    document.getElementById('totalValue2').innerText = response2Json.count;

    const response3 = await fetchChartData("benchmark", "", "");
    const response3Json = await response3.json();
    document.getElementById('totalValue3').innerText = response3Json.count;
  } catch (error) {
    console.error("Error handling API response:", error);
  }
};
         async function handleSelectChange() {
               var selectedValue = document.getElementById('datasetSelect').value;
         let criterions = [{"field": "sourceLanguage","value": "en"}]
         
               console.log("Selected value:", selectedValue, criterions);
               if (selectedValue) {
                 try {
                   const response = await fetchChartData(selectedValue,"",criterions);
                   const responseJson = await response.json()
              document.getElementById('totalValue').innerText = responseJson.count;
                   // Handle the response or update the UI based on the API call result
                   console.log("API Response:", response);
                 } catch (error) {
                   console.error("Error calling API:", error);
                 }
               }
              
             }
         
               function fetchChartData(dataType, value, criterions) {
           const CONFIG = {
             BASE_URL_AUTO: "https://dev-auth.ulcacontrib.org", // Replace with your actual base URL
           };
         
           const endpoint = `${CONFIG.BASE_URL_AUTO}/ulca/data-metric/v0/store/search`;
         
           const request = {
             type: dataType,
             criterions: criterions ? criterions : null,
             groupby: value ? [{ field: value, value: null }] : null,
           };
         
           const headers = {
             headers: {
               "Content-Type": "application/json",
             },
           };
         
           return fetch(endpoint, {
             method: "post",
             body: JSON.stringify(request),
             headers: headers.headers,
           })
             .then(response => {
               if (!response.ok) {
                 return Promise.reject("");
               }
         
               return response.json();
             })
             .then(rsp_data => {
               let res = rsp_data.data.sort((a, b) => b.value - a.value);
               // Handle the results as needed, e.g., console.log(res);
               console.log(res,"jj")
         
               let total = rsp_data.data.reduce((acc, rem) => acc = acc + Number(rem.value), 0);
             })
             .catch(error => {
               // Handle errors
               console.error("Error fetching data:", error);
             });
         }
         
         
         
             
      </script>
      <!-- Optional JavaScript -->
      <!-- jQuery first, then Popper.js, then Bootstrap JS -->
      <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
   </body>
</html>